{% extends 'base.html.twig' %}
{% block title %}
	{{ 'Ticket.View'|trans|raw }}
{% endblock %}
{% block body %}
	<h1>{{ 'Ticket.View'|trans|raw }}</h1>
	<dl class="row">
		<dt class="col-sm-3">{{ 'Ticket.Id'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.id }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.Ticket_status'|trans|raw }}</dt>
		<dd class="col-sm-9">
			{% set st = ticket.ticketStatus ? ticket.ticketStatus.value : null %}
			<span class="badge bg-{{ ('Ticket.statusClass.' ~ st)|trans }}">
				{{ st ? ('Ticket.status.' ~ st)|trans : '—' }}
			</span>
		</dd>
		<dt class="col-sm-3">{{ 'Ticket.Priority'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.priority ? ('Ticket.priority.' ~ ticket.priority)|trans : '—' }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.Company'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.companyId ? ticket.companyId.name : '—' }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.Created_by_id'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.createdById ? (ticket.createdById.firstName ~ ' ' ~ ticket.createdById.lastName)|trim ?: ticket.createdById.email : '—' }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.AssignedTo'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.assignedToId ? (ticket.assignedToId.firstName ~ ' ' ~ ticket.assignedToId.lastName)|trim ?: ticket.assignedToId.email : '—' }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.AssignedAt'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.assignedAt ? ticket.assignedAt|date('d/m/Y H:i') : '—' }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.Code_folder'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.codeFolder ?? '—' }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.DueAt'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.dueAt ? ticket.dueAt|date('d/m/Y H:i') : '—' }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.IsBillable'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.isBillable ? 'Oui' : 'Non' }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.CreatedAt'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.createdAt ? ticket.createdAt|date('d/m/Y H:i') : '—' }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.UpdatedAt'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.updatedAt ? ticket.updatedAt|date('d/m/Y H:i') : '—' }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.Subject'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.subject }}</dd>
		<dt class="col-sm-3">{{ 'Ticket.Question'|trans|raw }}</dt>
		<dd class="col-sm-9">{{ ticket.question }}</dd>
	</dl>
	<div class="btn-group" role="group" aria-label="Basic example">
		<a href="{{ path('app_ticket_edit', {'id': ticket.id}) }}" class="btn btn-orange">Modifier</a>
		<a href="{{ path('app_ticket_index') }}" class="btn btn-outline-orange">Retour</a>
	</div>
{% endblock %}
